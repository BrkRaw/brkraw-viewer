{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Brkraw Viewer","text":"<p>BrkRaw Viewer is a lightweight GUI for browsing and inspecting Bruker datasets with a focus on stability and a clean separation between the core viewer and optional extensions.</p> <p>Its intent is simple: keep inspection fast and local, while delegating repeatable workflows to the brkraw CLI and extension ecosystem.</p>"},{"location":"#highlights","title":"Highlights","text":"<ul> <li>Load Bruker study folders, archives, or PvDatasets packages</li> <li>Inspect scan metadata and parameter tables</li> <li>Preview image volumes with orientation controls</li> <li>Convert datasets with configurable naming/layout</li> <li>Optional extensions via <code>brkraw.viewer.hook</code> entry points (no core edits required)</li> </ul>"},{"location":"#why-these-features-exist","title":"Why these features exist","text":"<p>Viewer The Viewer tab gives quick visual confirmation of orientation and scan content so researchers can make decisions before running heavier pipelines.</p> <p>Registry The Registry exists to reduce repetitive filesystem navigation. It stores datasets you care about and lets you reload the current session in one click.</p> <p>Extensions/hooks Extensions are delivered as viewer hooks discovered via the <code>brkraw.viewer.hook</code> entry point. Hooks can add new tabs and dataset callbacks without changing the core viewer, and they coexist with converter hooks and CLI hooks so UI features can build on the same rule/spec system as brkraw.</p>"},{"location":"#getting-started","title":"Getting started","text":"<p>Install the package and run:</p> <pre><code>brkraw viewer\n</code></pre> <p>The main tabs are Viewer, Addon, Params, Convert, and Config. Viewer hooks appear under the Extensions tab and are selected manually.</p>"},{"location":"dev/contributors/","title":"Contributors","text":"<p>BrkRaw is developed and maintained as a community-driven open source project. We gratefully acknowledge everyone who has contributed code, documentation, ideas, and feedback.</p> <p>This page is auto-generated from GitHub contributors.</p> dvm-shlee <p>Last updated: 2026-01-18</p>"},{"location":"dev/gui/","title":"GUI Best Practices","text":"<p>When embedding GUI components into BrkRaw Viewer, prefer stability over aggressive rendering.</p>"},{"location":"dev/gui/#recommendations","title":"Recommendations","text":"<ul> <li>Defer heavy rendering with <code>after_idle</code> to avoid 1x1 canvas issues.</li> <li>Clear state on failures to prevent stale data from reappearing.</li> <li>Avoid direct access to internal widgets unless the API provides a method.</li> <li>Validate scan compatibility in <code>can_handle</code> and display a clear message when   unsupported.</li> <li>Keep callbacks defensive; the viewer may be detached and reattached.</li> </ul>"},{"location":"dev/gui/#underlay-overlays","title":"Underlay overlays","text":"<p>If you draw overlays in a custom viewer:</p> <ul> <li>Use the viewer's render state for consistent coordinates.</li> <li>Clamp indices to the image bounds.</li> <li>Clear overlays when switching scans or failing to load data.</li> </ul>"},{"location":"dev/gui/#code-layout","title":"Code layout","text":"<ul> <li><code>brkraw_viewer/apps/</code> contains tab-level controllers (viewer, convert, config, hooks).</li> <li><code>brkraw_viewer/frames/</code> contains reusable UI frames (viewer canvas, params panel, viewer config).</li> </ul> <p>This split keeps UI widgets reusable while keeping tab controllers easy to navigate.</p>"},{"location":"dev/hooks/","title":"Viewer Hooks","text":"<p>Viewer hooks are discovered through the <code>brkraw.viewer.hook</code> entry point group. Each hook can provide a tab UI and dataset callbacks.</p> <p>Hooks exist to keep the core viewer small while enabling modality-specific panels that reuse BrkRaw's rule/spec system. Viewer hooks can coexist with converter hooks and CLI hooks, so UI features can build on the same conversion logic without patching the viewer itself.</p>"},{"location":"dev/hooks/#entry-point","title":"Entry point","text":"<p>Add an entry point in your <code>pyproject.toml</code>:</p> <pre><code>[project.entry-points.\"brkraw.viewer.hook\"]\nbrkraw-mrs = \"brkraw_mrs.viewer_hook:MRSViewerHook\"\n</code></pre>"},{"location":"dev/hooks/#hook-interface","title":"Hook interface","text":"<p>Hooks may implement any of the following methods:</p> <pre><code>class MyHook:\n    name = \"my-extension\"\n    priority = 0\n\n    def build_tab(self, parent, app):\n        ...\n\n    def on_dataset_loaded(self, app):\n        ...\n\n    def on_scan_selected(self, app):\n        ...\n</code></pre>"},{"location":"dev/release/","title":"Release Flow","text":"<p>BrkRaw Viewer uses a PR-based release flow that mirrors the brkraw core:</p> <ol> <li>Run the release prep task to create a PR.</li> <li>Review the PR, ensure CI passes, and apply the <code>release</code> label.</li> <li>On merge, a tag is created from the merge commit.</li> <li>The tag triggers GitHub Release creation.</li> <li>When the Release is published, PyPI publish and docs deploy run.</li> </ol>"},{"location":"dev/release/#vscode-tasks","title":"VSCode tasks","text":"<ul> <li><code>Standard: Release Prep PR (2-step)</code></li> <li>Creates or updates a release prep PR.</li> <li>Bumps version, updates contributors, and generates release notes.</li> <li><code>Optional: Release Prep (bump + notes)</code></li> <li>Updates contributors + runs release prep without PR automation.</li> </ul>"},{"location":"dev/release/#release-labels","title":"Release labels","text":"<ul> <li><code>release</code>: required for tagging on merge.</li> </ul>"},{"location":"dev/release/#notes","title":"Notes","text":"<ul> <li>Pre-release tags (<code>a</code>, <code>b</code>, <code>rc</code>) create GitHub pre-releases and skip PyPI.</li> <li>Tag must match <code>pyproject.toml</code> version.</li> </ul>"},{"location":"extensions/","title":"Extensions","text":"<p>Extensions exist so the default viewer can stay lightweight while specialized workflows (MRS, BIDS, etc.) live in their own packages. This keeps the GUI small for scanner environments but still lets teams build richer interfaces.</p> <p>BrkRaw Viewer supports optional extensions via the <code>brkraw.viewer.hook</code> entry point. Extensions can add a tab and dataset-specific UI, and they can work alongside converter hooks or CLI hooks because they share the same rule/spec system.</p>"},{"location":"extensions/#installing-extensions","title":"Installing extensions","text":"<p>Install the extension package in the same environment as <code>brkraw-viewer</code>:</p> <pre><code>pip install brkraw-mrs\n</code></pre>"},{"location":"extensions/#selecting-an-extension","title":"Selecting an extension","text":"<p>Extensions are selected manually in the Extensions tab. The default value is None, which keeps the core viewer active.</p> <p>The <code>brkraw-mrs</code> extension renders its underlay preview inside the MRS tab to keep the core viewer stable. Underlay controls live in the MRS tab alongside the spectrum view.</p>"},{"location":"user/addon-params/","title":"Addon &amp; Params","text":"<p>The Addon tab lets you inspect and apply BrkRaw rule/spec assets inside the viewer. It resolves selected info specs and context maps to show a readable summary for the active scan/reco, and it surfaces the rule/spec status that was applied.</p> <p>The Params tab provides a searchable view of raw Bruker parameters plus a scan summary panel for quick checks.</p>"},{"location":"user/addon-params/#what-you-can-do","title":"What you can do","text":"<ul> <li>Review rule + spec selection status and resolved info output</li> <li>Apply info specs and context maps without leaving the UI</li> <li>Search parameter files (<code>acqp</code>, <code>method</code>, <code>reco</code>, <code>visu_pars</code>)</li> <li>Use the scan summary panel to confirm protocol and acquisition details</li> </ul> <p>Addon/Params always reflect the currently selected scan and reconstruction in the Viewer tab.</p>"},{"location":"user/config/","title":"Config","text":"<p>The Config tab keeps viewer defaults in one place so teams can align on layout and registry preferences without editing YAML by hand.</p>"},{"location":"user/config/#common-settings","title":"Common settings","text":"<ul> <li>Viewer display options</li> <li>Column layout for registry tables</li> <li>Conversion layout defaults</li> <li>Viewer cache settings (memory-only, cleared on exit)</li> </ul> <p>Changes are written to <code>config.yaml</code> and applied at the next load.</p>"},{"location":"user/convert/","title":"Convert","text":"<p>The Convert tab exists to bridge inspection and export: after confirming the right scan in the Viewer, you can write a quick NIfTI export using the same layout rules as the brkraw CLI.</p>"},{"location":"user/convert/#key-options","title":"Key options","text":"<ul> <li>Output directory: where converted data is written</li> <li>Layout template: naming layout for output files</li> <li>Slicepack suffix: optional suffix for sliced outputs</li> <li>Use viewer orientation: apply the viewer orientation and flip settings</li> <li>Flip X/Y/Z: per-axis flips applied during conversion</li> </ul> <p>The Preview panel shows the output path before conversion runs.</p>"},{"location":"user/viewer/","title":"Viewer","text":"<p>The Viewer tab is a fast, low-friction space for visual QC and orientation checks without committing to a conversion. It exists so researchers can confirm that a scan is the right one and oriented correctly before running a workflow.</p> <p>This fits the brkraw philosophy by keeping the viewer lightweight while leaning on the same BrkRaw loaders and orientation logic used by the CLI.</p>"},{"location":"user/viewer/#loading-data","title":"Loading data","text":"<p>Use the Load button to open:</p> <ul> <li>Study folders</li> <li>Zip archives</li> <li>PvDatasets packages</li> </ul> <p>The selected scan and reconstruction control what is shown in the viewport.</p>"},{"location":"user/viewer/#controls","title":"Controls","text":"<ul> <li>Space: raw, scanner, or subject RAS</li> <li>Subject type / pose: manual orientation selection when viewing subject RAS</li> <li>Flip: per-axis visual flip for quick inspection</li> <li>Crosshair: toggle center crosshair</li> <li>Zoom: scale the view</li> </ul>"},{"location":"user/viewer/#registry","title":"Registry","text":"<p>Open the registry window from the toolbar to browse registered datasets, add or remove entries, and load directly into the viewer. Use Current session in the <code>+</code> menu to add whatever is currently loaded; it is disabled until a dataset is open.</p>"}]}